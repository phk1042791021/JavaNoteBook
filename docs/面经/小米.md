



### 几种排序算法

选择排序，插入排序，冒泡排序，希尔排序，堆排序，桶排序，快速排序，归并排序

#### 排序算法的稳定性 

冒泡 插入 归并 桶排序稳定

#### [leetcode]() 75 三色[排序]()

#### static关键字 

如何保证线程安全 

使用

### hashMap的实现 

JDK1.8之前：数组+链表 冲突直接插链表

之后：链表长度大于阈值以后，如果数组长度大于64就转换为红黑树，否则就是对数组扩容

插入的话先判断有重复没，如果没有重复再判断是树还是链表，树就插入，链表直接插尾

### 浏览器请求url的过程 

域名解析

建立TCP连接

发送https请求

服务器处理，返回处理结果

释放TCP连接

浏览器解析渲染



https 

### 线程池的参数 **

`corePoolSize` 线程池核心线程大小 即使这些线程处理空闲状态，他们也不会被销毁，除非设置了allowCoreThreadTimeOut

`maximumPoolSize`线程池最大线程数量

`keepAliveTime`空闲线程存活时间

`unit`空闲线程存活时间单位

`workQueue` 工作队列

`threadFactory`

`workQueue` 阻塞队列有哪些 ？

* ArrayBlockingQueue 基于数组的有界阻塞队列，按FIFO排序。
* LinkedBlockingQuene 基于链表的无界阻塞队列（其实最大容量为Interger.MAX），按照FIFO排序
* SynchronousQuene 一个不缓存任务的阻塞队列，生产者放入一个任务必须等到消费者取出这个任务或者被拒绝
* PriorityBlockingQueue 具有优先级的无界阻塞队列，优先级通过参数Comparator实现。

### 创建线程的一个过程 

继承runnable，然后start开启一个线程，线程申请完资源以后会自动调用.run，直接.run就是当前线程开始run

### 



### 事务隔离级别，每个隔离级别有什么问题

[算法题](https://www.nowcoder.com/jump/super-jump/word?word=算法题)：[链表](https://www.nowcoder.com/jump/super-jump/word?word=链表)有没有环

1.Controller Service Dao三层架构的理解 

2.Controller 层中会去写业务代码吗？会不会造成代码耦合在一起？

3.Mybatisplus 的常用API

4.Redis常用命令

5.线程池的几个参数

6.如果CPU持续占满，从线程池角度排查一下原因

7.Mysql索引的优缺点（查询和增删改时）

8.AOP日志增强你是怎么做的？

9.SpringBoot中集成Redis，在Configuration 中你是怎么配置的？

10.Mybatis中#和$的区别

11.原地删除有序数组中的重复值（太紧张了，第一次面试，敲代码的时候都在发抖。lc 也刷了200 多道题了，竟然没ac，整个人脑袋发晕。最后给面试官讲了一下快慢指针的思路）







项目介绍（用到[redis]()，mysql，mq，mongoDB），项目的数据量，并发量，不同数据库都存的什么内容，为什么这么安排？

rabbitMQ的作用，为什么你的项目选了这个mq而不用rocketMQ和kafka，这三个哪些可以使用优先级队列，如何确保高并发量不出问题

mongoDB存储数据是关系型的数据吗，可以进行管理吗？存储图片是使用什么形式，二进制码还是软链接之类的？后端调用图片是怎么传输数据呢？为什么不直接使用一个文件夹存储而是使用mongoDB呢？

mysql如何加快检索速度（索引，分库分表）？讲一讲MySQL存储过程，什么情况适合使用索引，添加索引的注意事项，如果是对手机尾号后四位进行快速检索有什么办法？

下面语句如何设置索引可以加快检索速度

select a,b from table where c=20 and d<10 or e>5 group by f order by g limit 10,5;

讲讲JWT的存储结构，能实现的功能，项目中的登录验证流程，说一说加密[算法]()（RSA，Base64）怎么实现的加密，介绍一下非对称加密和对称加密，两种加密方式的原理分别是什么

如果服务器收到第一次登录的用户名和密码怎么处理呢？密码是直接原始数据存储到数据库中？如果直接存会有什么问题？什么是sql注入？怎么避免sql注入呢？

[redis]()怎么保证和数据库的一致性，为什么要先更改数据库再删除缓存，举一个例子验证一下

如果a、b两个人同时修改一条数据，a修改完了还未更新redis缓存时，b也修改完了并且更新了redis缓存，此时a再更新redis缓存，数据库是b的数据，redis是a的数据。

[算法题]()： 有效的括号[leetcode]() 20，   三数之和[leetcode]() 15

```java
class Solution {
    public List<List<Integer>> threeSum(int[] nums) {
        if(nums.length < 3){return new LinkedList<List<Integer>>();}
        Arrays.sort(nums);
        
        List<List<Integer>> res = new ArrayList<>();;
        
        for(int i=0;i<nums.length && nums[i]<=0;i++){
            if (i > 0 && nums[i] == nums[i - 1]) {
                continue;
            }
            int l = i+1,r = nums.length-1;
            while(l < r){
                int sum = nums[i] + nums[l] + nums[r];
                if(sum > 0){
                    r--;
                    
                }else if(sum < 0){
                    l++;
                }else{
                    res.add(Arrays.asList(nums[i], nums[l], nums[r]));
                    while(l < r && nums[r] == nums[r-1]){r--;};
                    while(l < r && nums[l] == nums[l+1]){l++;};

                    r--;
                    l++;
                }

            }
            
        }
        return res;
    }
}
```

```java
class Solution {
    public boolean isValid(String s) {
        if(s.length() % 2 == 1){return false;}
        LinkedList<Character> stack = new LinkedList<>();
        for(int i = 0; i< s.length(); i++){
            char c = s.charAt(i);
            if(c == '('){stack.push(')');}
            else if(c == '['){stack.push(']');}
            else if(c == '{'){stack.push('}');}
            else if(stack.isEmpty() || c != stack.pop()){
                return false;
            }
        }
        return stack.isEmpty();
    }
}
```



**有被好好对待和尊重的面试——[小米]()一面（√）** 

其实是安排不到面试官了，leader直接当终面面的...这位面试官人很好，各种细节让人感觉很舒服，虽然超级多问题我答不上 

\1. 自我介绍+项目介绍 

\2. RabbitMQ 技术选型，RabbitMQ有优先队列吗？如何保证顺序消费？怎么限流？怎么处理积压？怎么保证高并发可用？MQ消费失败怎么办？MQ队列的默认长度？消息队列谁是生产者谁是消费者 

\3. 如何给项目限流+一系列场景题

\4. Redis和数据库一致性（我说了延迟双删，面试官说延迟双删其实不能保证

更新数据库删除缓存

\5. Redis为什么快？ 

\6. Redis有事务吗（我说有，他说有？我？？有吧！），问我对事务的理解（我按关系型数据库的事务说了，后来发现不是的），然后出了一个场景题，问我Redis是怎么处理的 

\7. [redis]()主从复制、集群、读写分离，问什么要读写分离 

\8. MySQL主从复制原理及实现、读写分离及其好处 

\9. 什么是线程安全，如何保证线程安全？ 

\10. 线程安全的集合（加锁就安全了吗？），ArrayList为什么线程不安全，举例子，ArrayList的扩容 

\11. MySQL分库分表，然后问在你使用的产品中哪些让你感觉是使用了水平分表的？（啊题我都不是很理解啊） 

\12. 一个SQL语句怎么建索引（select a,b from table where c= and d<12 or e>5 group by f order by g limit 0,1;），建索引的原则 

\13. 场景题：如果我要对手机号最后4位做查询，怎么能加快速度？ 

\14. [算法题]()：一个是三数之和（我的做法面试官不太喜欢，然后说了他的想法，让我实现），第二个是有效的括号（用栈来实现的，比较简单） 

\15. 问我的想法，什么时候能实习，然后我也问了业务和实习生培训，面试官很耐心细致地给我解答了，还说了一下自己的经历，闲聊了很久，整体面了1个半小时，感觉面试官是个有趣的大佬~ 

**自我感觉不太好的面试——[小米]()二面即终面** **（√）** 

\1. 自我介绍+项目介绍+闲聊 

\2. 挖项目，主要是挖MQ，挖了很久，记不太清了（>.<） 

\3. 聚簇索引（我发散了一点，反正就是逮着八股就发散！>.<） 

\4. TCP四次挥手，必须四次吗？（不是呀...blablabla）如何保证最后一次ACK报文不丢失？（我说要等2MSL，如果丢失了会重传，然后等2MSL还可以让本次连接的无效报文段在网络中消失） 

\5. 其他八股忘了>.< 

\6. SQL题：当说要写SQL的时候，我的心拔凉拔凉，因为太久没写了，幸好出的题不难：一个学生表，一个成绩表，查出每个学生的姓名和平均成绩，并按平均成绩降序排列 

\7. [算法题]()：一个是快速求出一个数是否是2的幂，我说肯定不是一直除2吧，面试官说怎么不可能...我说我还是想想其他方法，应该要用到位运算，尝试了很多都不对，我说2的幂就是二进制最高位为1，减1之后每一位都是1，只要验证每一位都是1就行，但我不知道怎么确定有多少个1，然后被提醒你想想原数和减一之后的数，这才恍然大悟，原数和减一之后做与运算为0就是2的幂啦！面试官说这道题有很多做法，但你这个做法是一百分没有提醒也很难快速想出来啊），第二个题是一个升序数组，平方后按升序排列，比较简单，但细节没做好

最后[小米]()给了offer，非常开心，毕竟前两天还在怀疑自己是不是短期内找不到实习了，太需要认可了





自我介绍（这里面试官好像挺介意我刚上大二，说实话很怕直接给我结束了。。。） 
hashmap的结构 
为什么负载因子是0.75（这里我提到了[redis]()的负载因子是1或者5，但没有追问[redis]()的hashmap） 
volatile的作用和原理 
什么是原子性 
volatile能不能保证原子性 
数据库隔离级别 
幻读举个例子 
innodb如何解决幻读 
gc[算法]()有哪些 
可达性分析 
判断gcroots的原则是什么 
[算法题]() [合并有序链表]() 自己写测试用例







# [小米]()一面（20 min）

常规问题，大家肯定都懂，就分析个常见的源码之类的

- 自我介绍
- HashMap 1.8 原理
- MySQL（索引结构、事务深入解析，范围查询相关问题）
- JVM 内存分区
- JVM 类加载
- 锁膨胀
- 可重入锁原理
- 重量锁原理
- 手写单例模式，双重检验锁
- Spring 原理，知道多少说多少
- Mybaties 原理（不懂）





# [小米]()二面（60 min）

> 过了两周，作为一个合格的备胎，被[小米]()捞起来吊打了，但没被阿里吊打得那么难受了。。。

- 自我介绍一下
  - （上次阿里 “熟悉” 踩雷，这次不敢了，我用“了解”总好了吧！）....**平时我学习也有深入源码去分析，我对 Java 并发了解多一点点**（结果这句又 TM 劝退警告）
- Java 多个循环想要 break ，如何一次性打破？
  - 自定义标识 ok;  break ok  定义变量，每次循环遍历
- Map 容器了解哪一些
  - balabala
- 停，除了这些你还懂哪些？
  - LinkedHashMap。。。？
- 你说说它的底层原理
  - 嗯，面试官，这个的原理我只了解过一点点，balabala
- 你说是啥顺序？只有 LRU 么？
  - **emmm，沉默 5 秒**，是吧。。。
- 举个例子，LinkedHashMap 插入 key，a，b，最后输出是啥？
  - b a ？
- 理由是啥？
  - LRU。。。
- **你再回去试试吧！**
  - 。。。
- 哪一些可以作为锁对象？Integer 可以作为锁对象么？
  - 可以吧，因为是对象啊，重量锁锁的不就是对象么？
- **你再回去试试吧！**
- Lambda 表达式的实现原理？
  - 这个没了解过，只知道是语法糖
- 那，匿名内部类实现线程的时候，底层是怎么走的？
  - 语法糖 balaba
- 函数式编程的理解？Java 8 如何实现的函数式编程？
  - balabala
- Java 8 中的接口和抽象类的区别？
  - balaba
- JVM 引入的锁优化技术有哪些
  - 锁膨胀、锁消除
- 还有呢？
  - 逃逸分析，同步省略？
- 那不还是锁消除么
  - 嗯。。。
- **你再回去看看吧！**
  - 嗯。。。
- ReentrantLock 和 synchronized 底层的实现原理
  - balabala
- ReentrantReadWriteLock 了解么？
  - 了解一点点。。。
- ReentrantReadWriteLock 底层实现的原理？
  - （我特么只说一点点啊，又来原理）是这样的，只了解过一点点，就是 balabal
- ReentrantReadWriteLock 同个线程是否可以重复获取读写锁，分类讨论
  - （懵逼，按照可重入性理解吧，但也不知道读锁和写锁哪个可重复啊）balabala
- 是这样的么，**你再回去看看吧！**
  - 嗯。。。
- AQS 原理分析一下，底层几个队列？
  - balaba，有一个 FIFO 队列
- 就一个？就绪和阻塞放一个队列么？线程就绪放哪个，就绪出来的线程能直接运行么？
  - 哦，还有一个同步队列。。。运行的话 balabala。。。
- 你确定？**你再回去看看吧！**
  - 哦。。。
- 写个题吧，这样，既然你了解 ReentrantLock ，用它写两个线程交替打印 1 - 10
  - （第一次撕并发题，也不能切到本地 IDE，手一直抖，抖着写了 20 分钟。。。）
- **2 Thousand Later**
- 我看看你写的如何啊
  - （**妈耶，一运行，满屏的 bug，20+ bug**。。。）
- emm，不如说说你的思路吧
  - balabala，condition、共用一个 reentrantlcok 之类的。。。
- 三个线程怎么做？
  - 再加一个 condition 和类？
- 嗯。。。好吧，今天差不多了，你还有啥能力是没体现的么？
  - MySQL、设计模式、JVM、计算机网络、HTTP、操作系统、[算法]()等都没问呢？
- 这些不应该一面就问了么？
  - 哦。。那面试官你对我有何建议？
- 深度还行，但广度太差了，看问题要全面，**你回去多看看吧**
  - 好的，谢谢面试官





1.hashmap put 过程 

2.创建一个存放100个元素的 hashmap 应该设置多大保证不扩容 

3.线程池整体的原理 

4.线程池中的线程为什么可以一直处理任务不销毁 

5.提交的任务需要结果怎么做 

6.java 除了sychronized 还有什么，为什么 

7.mvc 和 servlet 的关系 

8.b 树和 b+ 树的主要区别 

9.各个垃圾回收器的回收[算法]()

10.开启 g1 回收器的参数设置 

11.查看线程状态的方法 

12.linux 从文本文件找出所有包含“[小米]()”的行 

13.http 在什么层，ping 在什么层